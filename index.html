<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BlogHub - Dynamic Blogging Platform</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 20px 0;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .logo {
            font-size: 2rem;
            font-weight: bold;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .nav-buttons {
            display: flex;
            gap: 10px;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            text-align: center;
        }

        .btn-primary {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: transparent;
            color: #667eea;
            border: 2px solid #667eea;
        }

        .btn-secondary:hover {
            background: #667eea;
            color: white;
        }

        .btn-danger {
            background: #ff4757;
            color: white;
        }

        .btn-danger:hover {
            background: #ff3742;
        }

        .main-content {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            margin: 20px 0;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .auth-form {
            max-width: 400px;
            margin: 0 auto;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            color: #555;
        }

        .form-group input, .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e1e8ed;
            border-radius: 10px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus, .form-group textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .blog-post {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s ease;
        }

        .blog-post:hover {
            transform: translateY(-5px);
        }

        .blog-post h2 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 1.8rem;
        }

        .blog-meta {
            color: #7f8c8d;
            font-size: 0.9rem;
            margin-bottom: 20px;
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
        }

        .blog-content {
            line-height: 1.6;
            color: #34495e;
            margin-bottom: 20px;
        }

        .blog-actions {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .comments-section {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
        }

        .comment {
            background: white;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        .comment-meta {
            font-weight: 500;
            color: #667eea;
            margin-bottom: 5px;
        }

        .comment-text {
            color: #555;
            line-height: 1.5;
        }

        .hero {
            text-align: center;
            padding: 60px 0;
        }

        .hero h1 {
            font-size: 3rem;
            margin-bottom: 20px;
            color: #2c3e50;
        }

        .hero p {
            font-size: 1.2rem;
            color: #7f8c8d;
            margin-bottom: 30px;
        }

        .hidden {
            display: none;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 10px;
            color: #667eea;
            font-weight: 500;
        }

        .mobile-menu {
            display: none;
        }

        @media (max-width: 768px) {
            .nav {
                flex-direction: column;
                gap: 20px;
            }

            .nav-buttons {
                flex-wrap: wrap;
                justify-content: center;
            }

            .hero h1 {
                font-size: 2rem;
            }

            .main-content {
                padding: 20px;
            }

            .blog-post {
                padding: 20px;
            }

            .blog-meta {
                flex-direction: column;
                gap: 5px;
            }

            .blog-actions {
                flex-direction: column;
            }

            .btn {
                width: 100%;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 10px;
            }

            .hero h1 {
                font-size: 1.8rem;
            }

            .hero p {
                font-size: 1rem;
            }

            .main-content {
                padding: 15px;
            }

            .blog-post {
                padding: 15px;
            }

            .blog-post h2 {
                font-size: 1.5rem;
            }
        }

        .fade-in {
            animation: fadeIn 0.6s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .success-message {
            background: #d4edda;
            color: #155724;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 20px;
            border: 1px solid #c3e6cb;
        }

        .error-message {
            background: #f8d7da;
            color: #721c24;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 20px;
            border: 1px solid #f5c6cb;
        }

        .dashboard-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .dashboard-header h2 {
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .dashboard-header p {
            color: #7f8c8d;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }

        .dashboard-card {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
            border: 1px solid #e1e8ed;
        }

        .dashboard-card h3 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 1.3rem;
        }

        .profile-info {
            display: flex;
            gap: 20px;
            align-items: flex-start;
        }

        .profile-avatar {
            flex-shrink: 0;
        }

        .avatar-circle {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(45deg, #667eea, #764ba2);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 2rem;
            font-weight: bold;
            text-transform: uppercase;
        }

        .profile-details {
            flex: 1;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
        }

        .stat-item {
            text-align: center;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 5px;
        }

        .stat-label {
            color: #7f8c8d;
            font-size: 0.9rem;
        }

        .dashboard-posts {
            margin-top: 40px;
        }

        .dashboard-posts h3 {
            color: #2c3e50;
            margin-bottom: 20px;
        }

        .user-posts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .user-post-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 3px 15px rgba(0, 0, 0, 0.05);
            border: 1px solid #e1e8ed;
            transition: transform 0.3s ease;
        }

        .user-post-card:hover {
            transform: translateY(-2px);
        }

        .user-post-card h4 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .user-post-card .post-excerpt {
            color: #7f8c8d;
            font-size: 0.9rem;
            margin-bottom: 15px;
            line-height: 1.4;
        }

        .user-post-card .post-meta {
            font-size: 0.8rem;
            color: #95a5a6;
            margin-bottom: 15px;
        }

        .user-post-card .post-actions {
            display: flex;
            gap: 10px;
        }

        .user-post-card .btn {
            padding: 8px 16px;
            font-size: 0.9rem;
        }

        .footer {
            background: #2c3e50;
            color: white;
            padding: 40px 0 20px;
            margin-top: 60px;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
        }

        .footer-section h4 {
            margin-bottom: 15px;
            color: #ecf0f1;
        }

        .footer-section p {
            color: #bdc3c7;
            line-height: 1.6;
        }

        .footer-section ul {
            list-style: none;
        }

        .footer-section ul li {
            margin-bottom: 8px;
        }

        .footer-section ul li a {
            color: #bdc3c7;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .footer-section ul li a:hover {
            color: #667eea;
        }

        .social-links {
            display: flex;
            gap: 15px;
        }

        .social-link {
            color: #bdc3c7;
            text-decoration: none;
            padding: 8px 12px;
            border-radius: 5px;
            border: 1px solid #34495e;
            transition: all 0.3s ease;
        }

        .social-link:hover {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .footer-bottom {
            text-align: center;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #34495e;
            color: #95a5a6;
        }
    </style>
</head>
<body>
    <header class="header">
        <nav class="nav">
            <div class="logo">BlogHub</div>
            <div class="nav-buttons" id="navButtons">
                <span class="user-info hidden" id="userInfo">Welcome, <span id="currentUser"></span></span>
                <button class="btn btn-primary" id="loginBtn">Login</button>
                <button class="btn btn-secondary" id="signupBtn">Sign Up</button>
                <button class="btn btn-primary hidden" id="newPostBtn">New Post</button>
                <button class="btn btn-secondary hidden" id="dashboardBtn">Dashboard</button>
                <button class="btn btn-secondary hidden" id="logoutBtn">Logout</button>
            </div>
        </nav>
    </header>

    <div class="container">
        <main class="main-content">
            <!-- Welcome Section -->
            <section id="welcomeSection" class="hero">
                <h1>Welcome to BlogHub</h1>
                <p>Share your thoughts with the world. Create, edit, and engage with amazing content.</p>
                <div style="display: flex; gap: 20px; justify-content: center; flex-wrap: wrap;">
                    <button class="btn btn-primary" id="getStartedBtn">Get Started</button>
                    <button class="btn btn-secondary" id="viewPostsBtn">View Posts</button>
                </div>
            </section>

            <!-- Login Form -->
            <section id="loginSection" class="hidden">
                <div class="auth-form">
                    <h2 style="text-align: center; margin-bottom: 30px;">Login</h2>
                    <form id="loginForm">
                        <div class="form-group">
                            <label for="loginEmail">Email</label>
                            <input type="email" id="loginEmail" required>
                        </div>
                        <div class="form-group">
                            <label for="loginPassword">Password</label>
                            <input type="password" id="loginPassword" required>
                        </div>
                        <button type="submit" class="btn btn-primary" style="width: 100%;">Login</button>
                    </form>
                </div>
            </section>

            <!-- Signup Form -->
            <section id="signupSection" class="hidden">
                <div class="auth-form">
                    <h2 style="text-align: center; margin-bottom: 30px;">Sign Up</h2>
                    <form id="signupForm">
                        <div class="form-group">
                            <label for="signupName">Full Name</label>
                            <input type="text" id="signupName" required>
                        </div>
                        <div class="form-group">
                            <label for="signupEmail">Email</label>
                            <input type="email" id="signupEmail" required>
                        </div>
                        <div class="form-group">
                            <label for="signupPassword">Password</label>
                            <input type="password" id="signupPassword" required>
                        </div>
                        <button type="submit" class="btn btn-primary" style="width: 100%;">Sign Up</button>
                    </form>
                </div>
            </section>

            <!-- New Post Form -->
            <section id="newPostSection" class="hidden">
                <h2 style="text-align: center; margin-bottom: 30px;">Create New Post</h2>
                <form id="newPostForm">
                    <div class="form-group">
                        <label for="postTitle">Title</label>
                        <input type="text" id="postTitle" required>
                    </div>
                    <div class="form-group">
                        <label for="postContent">Content</label>
                        <textarea id="postContent" rows="8" required></textarea>
                    </div>
                    <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                        <button type="submit" class="btn btn-primary">Publish Post</button>
                        <button type="button" class="btn btn-secondary" id="cancelPostBtn">Cancel</button>
                    </div>
                </form>
            </section>

            <!-- Edit Post Form -->
            <section id="editPostSection" class="hidden">
                <h2 style="text-align: center; margin-bottom: 30px;">Edit Post</h2>
                <form id="editPostForm">
                    <div class="form-group">
                        <label for="editPostTitle">Title</label>
                        <input type="text" id="editPostTitle" required>
                    </div>
                    <div class="form-group">
                        <label for="editPostContent">Content</label>
                        <textarea id="editPostContent" rows="8" required></textarea>
                    </div>
                    <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                        <button type="submit" class="btn btn-primary">Update Post</button>
                        <button type="button" class="btn btn-secondary" id="cancelEditBtn">Cancel</button>
                    </div>
                </form>
            </section>

            <!-- Dashboard Section -->
            <section id="dashboardSection" class="hidden">
                <div class="dashboard-header">
                    <h2>User Dashboard</h2>
                    <p>Manage your profile and posts</p>
                </div>
                
                <div class="dashboard-grid">
                    <div class="dashboard-card">
                        <h3>Profile Information</h3>
                        <div class="profile-info">
                            <div class="profile-avatar">
                                <div class="avatar-circle" id="userAvatar"></div>
                            </div>
                            <div class="profile-details">
                                <div class="form-group">
                                    <label for="profileName">Full Name</label>
                                    <input type="text" id="profileName" readonly>
                                </div>
                                <div class="form-group">
                                    <label for="profileEmail">Email</label>
                                    <input type="email" id="profileEmail" readonly>
                                </div>
                                <div class="form-group">
                                    <label for="profileJoined">Member Since</label>
                                    <input type="text" id="profileJoined" readonly>
                                </div>
                                <button class="btn btn-primary" id="editProfileBtn">Edit Profile</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="dashboard-card">
                        <h3>Statistics</h3>
                        <div class="stats-grid">
                            <div class="stat-item">
                                <div class="stat-number" id="totalPosts">0</div>
                                <div class="stat-label">Total Posts</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-number" id="totalComments">0</div>
                                <div class="stat-label">Comments Received</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-number" id="totalViews">0</div>
                                <div class="stat-label">Total Views</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="dashboard-posts">
                    <h3>My Posts</h3>
                    <div id="userPosts" class="user-posts-grid"></div>
                </div>
            </section>

            <!-- Edit Profile Section -->
            <section id="editProfileSection" class="hidden">
                <div class="auth-form">
                    <h2 style="text-align: center; margin-bottom: 30px;">Edit Profile</h2>
                    <form id="editProfileForm">
                        <div class="form-group">
                            <label for="editProfileName">Full Name</label>
                            <input type="text" id="editProfileName" required>
                        </div>
                        <div class="form-group">
                            <label for="editProfileEmail">Email</label>
                            <input type="email" id="editProfileEmail" required>
                        </div>
                        <div class="form-group">
                            <label for="editProfilePassword">New Password (leave blank to keep current)</label>
                            <input type="password" id="editProfilePassword">
                        </div>
                        <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                            <button type="submit" class="btn btn-primary">Update Profile</button>
                            <button type="button" class="btn btn-secondary" id="cancelEditProfileBtn">Cancel</button>
                        </div>
                    </form>
                </div>
            </section>
            <section id="postsSection" class="hidden">
                <h2 style="text-align: center; margin-bottom: 30px;">Latest Posts</h2>
                <div id="blogPosts"></div>
            </section>

            <!-- Messages -->
            <div id="messages"></div>
        </main>
    </div>

    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h4>BlogHub</h4>
                <p>Your platform for sharing thoughts and connecting with others through meaningful content.</p>
            </div>
            <div class="footer-section">
                <h4>Quick Links</h4>
                <ul>
                    <li><a href="#" onclick="showSection('posts'); renderPosts();">All Posts</a></li>
                    <li><a href="#" onclick="showSection('signup');">Join Us</a></li>
                    <li><a href="#" onclick="showSection('login');">Login</a></li>
                </ul>
            </div>
            
           
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 BlogHub. All rights reserved. Built by GUNJAN with ❤️ for the community.</p>
        </div>
    </footer>

    <script>
        // Application State
        let currentUser = null;
        let currentView = 'welcome';
        let users = [];
        let posts = [];
        let editingPostId = null;

        // DOM Elements
        const sections = {
            welcome: document.getElementById('welcomeSection'),
            login: document.getElementById('loginSection'),
            signup: document.getElementById('signupSection'),
            newPost: document.getElementById('newPostSection'),
            editPost: document.getElementById('editPostSection'),
            posts: document.getElementById('postsSection')
        };

        const buttons = {
            login: document.getElementById('loginBtn'),
            signup: document.getElementById('signupBtn'),
            logout: document.getElementById('logoutBtn'),
            newPost: document.getElementById('newPostBtn'),
            getStarted: document.getElementById('getStartedBtn'),
            viewPosts: document.getElementById('viewPostsBtn'),
            cancelPost: document.getElementById('cancelPostBtn'),
            cancelEdit: document.getElementById('cancelEditBtn')
        };

        const forms = {
            login: document.getElementById('loginForm'),
            signup: document.getElementById('signupForm'),
            newPost: document.getElementById('newPostForm'),
            editPost: document.getElementById('editPostForm')
        };

        // Initialize sample data
        function initializeSampleData() {
            users = [
                { id: 1, name: 'John Doe', email: 'john@example.com', password: 'password123' },
                { id: 2, name: 'Jane Smith', email: 'jane@example.com', password: 'password123' }
            ];

            posts = [
                {
                    id: 1,
                    title: 'Welcome to BlogHub',
                    content: 'This is a sample blog post to demonstrate the blogging platform. BlogHub allows you to create, edit, and delete posts while engaging with other users through comments. The platform features a responsive design that works seamlessly across all devices.',
                    author: 'John Doe',
                    authorId: 1,
                    date: new Date('2024-01-15'),
                    comments: [
                        { id: 1, author: 'Jane Smith', text: 'Great post! Looking forward to more content.', date: new Date('2024-01-16') },
                        { id: 2, author: 'John Doe', text: 'Thank you for the feedback!', date: new Date('2024-01-17') }
                    ]
                },
                {
                    id: 2,
                    title: 'The Future of Web Development',
                    content: 'Web development is constantly evolving with new technologies and frameworks. From responsive design to progressive web apps, developers need to stay updated with the latest trends. This post explores some of the key technologies shaping the future of web development.',
                    author: 'Jane Smith',
                    authorId: 2,
                    date: new Date('2024-01-20'),
                    comments: [
                        { id: 3, author: 'John Doe', text: 'Very insightful article. Web development has come a long way!', date: new Date('2024-01-21') }
                    ]
                }
            ];
        }

        // Utility Functions
        function showMessage(text, type = 'success') {
            const messagesDiv = document.getElementById('messages');
            const messageElement = document.createElement('div');
            messageElement.className = `${type}-message fade-in`;
            messageElement.textContent = text;
            messagesDiv.appendChild(messageElement);
            
            setTimeout(() => {
                messageElement.remove();
            }, 5000);
        }

        function showSection(sectionName) {
            // Hide all sections
            Object.values(sections).forEach(section => {
                section.classList.add('hidden');
            });
            
            // Show target section
            if (sections[sectionName]) {
                sections[sectionName].classList.remove('hidden');
                sections[sectionName].classList.add('fade-in');
            }
            
            currentView = sectionName;
        }

        function updateNavigation() {
            const userInfo = document.getElementById('userInfo');
            const currentUserSpan = document.getElementById('currentUser');
            
            if (currentUser) {
                // User is logged in
                buttons.login.classList.add('hidden');
                buttons.signup.classList.add('hidden');
                buttons.newPost.classList.remove('hidden');
                buttons.logout.classList.remove('hidden');
                userInfo.classList.remove('hidden');
                currentUserSpan.textContent = currentUser.name;
            } else {
                // User is not logged in
                buttons.login.classList.remove('hidden');
                buttons.signup.classList.remove('hidden');
                buttons.newPost.classList.add('hidden');
                buttons.logout.classList.add('hidden');
                userInfo.classList.add('hidden');
            }
        }

        function formatDate(date) {
            return date.toLocaleDateString('en-US', {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
        }

        // Authentication Functions
        function login(email, password) {
            const user = users.find(u => u.email === email && u.password === password);
            if (user) {
                currentUser = user;
                updateNavigation();
                showSection('posts');
                renderPosts();
                showMessage('Login successful!');
                return true;
            }
            return false;
        }

        function signup(name, email, password) {
            if (users.find(u => u.email === email)) {
                return false; // Email already exists
            }
            
            const newUser = {
                id: users.length + 1,
                name,
                email,
                password
            };
            
            users.push(newUser);
            currentUser = newUser;
            updateNavigation();
            showSection('posts');
            renderPosts();
            showMessage('Account created successfully!');
            return true;
        }

        function logout() {
            currentUser = null;
            updateNavigation();
            showSection('welcome');
            showMessage('Logged out successfully!');
        }

        // Blog Functions
        function createPost(title, content) {
            if (!currentUser) return false;
            
            const newPost = {
                id: posts.length + 1,
                title,
                content,
                author: currentUser.name,
                authorId: currentUser.id,
                date: new Date(),
                comments: []
            };
            
            posts.unshift(newPost);
            renderPosts();
            showMessage('Post created successfully!');
            return true;
        }

        function editPost(postId, title, content) {
            const post = posts.find(p => p.id === postId);
            if (post && post.authorId === currentUser.id) {
                post.title = title;
                post.content = content;
                renderPosts();
                showMessage('Post updated successfully!');
                return true;
            }
            return false;
        }

        function deletePost(postId) {
            const postIndex = posts.findIndex(p => p.id === postId);
            if (postIndex !== -1 && posts[postIndex].authorId === currentUser.id) {
                posts.splice(postIndex, 1);
                renderPosts();
                showMessage('Post deleted successfully!');
                return true;
            }
            return false;
        }

        function addComment(postId, commentText) {
            if (!currentUser) return false;
            
            const post = posts.find(p => p.id === postId);
            if (post) {
                const newComment = {
                    id: Date.now(),
                    author: currentUser.name,
                    text: commentText,
                    date: new Date()
                };
                post.comments.push(newComment);
                renderPosts();
                showMessage('Comment added successfully!');
                return true;
            }
            return false;
        }

        function renderPosts() {
            const blogPostsDiv = document.getElementById('blogPosts');
            blogPostsDiv.innerHTML = '';
            
            if (posts.length === 0) {
                blogPostsDiv.innerHTML = '<p style="text-align: center; color: #7f8c8d;">No posts yet. Be the first to share your thoughts!</p>';
                return;
            }
            
            posts.forEach(post => {
                const postElement = document.createElement('div');
                postElement.className = 'blog-post';
                
                const canEdit = currentUser && currentUser.id === post.authorId;
                
                postElement.innerHTML = `
                    <h2>${post.title}</h2>
                    <div class="blog-meta">
                        <span>By ${post.author}</span>
                        <span>${formatDate(post.date)}</span>
                        <span>${post.comments.length} comments</span>
                    </div>
                    <div class="blog-content">
                        <p>${post.content}</p>
                    </div>
                    <div class="blog-actions">
                        ${canEdit ? `
                            <button class="btn btn-secondary" onclick="startEditPost(${post.id})">Edit</button>
                            <button class="btn btn-danger" onclick="confirmDeletePost(${post.id})">Delete</button>
                        ` : ''}
                    </div>
                    <div class="comments-section">
                        <h3 style="margin-bottom: 15px;">Comments</h3>
                        <div id="comments-${post.id}">
                            ${post.comments.map(comment => `
                                <div class="comment">
                                    <div class="comment-meta">${comment.author} - ${formatDate(comment.date)}</div>
                                    <div class="comment-text">${comment.text}</div>
                                </div>
                            `).join('')}
                        </div>
                        ${currentUser ? `
                            <div style="margin-top: 15px;">
                                <input type="text" id="comment-input-${post.id}" placeholder="Add a comment..." style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px; margin-bottom: 10px;">
                                <button class="btn btn-primary" onclick="submitComment(${post.id})">Add Comment</button>
                            </div>
                        ` : '<p style="text-align: center; color: #7f8c8d; margin-top: 15px;">Please log in to comment</p>'}
                    </div>
                `;
                
                blogPostsDiv.appendChild(postElement);
            });
        }

        function startEditPost(postId) {
            const post = posts.find(p => p.id === postId);
            if (post && post.authorId === currentUser.id) {
                editingPostId = postId;
                document.getElementById('editPostTitle').value = post.title;
                document.getElementById('editPostContent').value = post.content;
                showSection('editPost');
            }
        }

        function confirmDeletePost(postId) {
            if (confirm('Are you sure you want to delete this post?')) {
                deletePost(postId);
            }
        }

        function submitComment(postId) {
            const commentInput = document.getElementById(`comment-input-${postId}`);
            const commentText = commentInput.value.trim();
            
            if (commentText) {
                addComment(postId, commentText);
                commentInput.value = '';
            }
        }

        // Event Listeners
        buttons.login.addEventListener('click', () => showSection('login'));
        buttons.signup.addEventListener('click', () => showSection('signup'));
        buttons.logout.addEventListener('click', logout);
        buttons.newPost.addEventListener('click', () => showSection('newPost'));
        buttons.getStarted.addEventListener('click', () => showSection('signup'));
        buttons.viewPosts.addEventListener('click', () => {
            showSection('posts');
            renderPosts();
        });
        buttons.cancelPost.addEventListener('click', () => {
            showSection('posts');
            renderPosts();
        });
        buttons.cancelEdit.addEventListener('click', () => {
            showSection('posts');
            renderPosts();
        });

        // Form Submissions
        forms.login.addEventListener('submit', (e) => {
            e.preventDefault();
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            if (login(email, password)) {
                forms.login.reset();
            } else {
                showMessage('Invalid email or password', 'error');
            }
        });

        forms.signup.addEventListener('submit', (e) => {
            e.preventDefault();
            const name = document.getElementById('signupName').value;
            const email = document.getElementById('signupEmail').value;
            const password = document.getElementById('signupPassword').value;
            
            if (signup(name, email, password)) {
                forms.signup.reset();
            } else {
                showMessage('Email already exists', 'error');
            }
        });

        forms.newPost.addEventListener('submit', (e) => {
            e.preventDefault();
            const title = document.getElementById('postTitle').value;
            const content = document.getElementById('postContent').value;
            
            if (createPost(title, content)) {
                forms.newPost.reset();
                showSection('posts');
            }
        });

        forms.editPost.addEventListener('submit', (e) => {
            e.preventDefault();
            const title = document.getElementById('editPostTitle').value;
            const content = document.getElementById('editPostContent').value;
            
            if (editPost(editingPostId, title, content)) {
                forms.editPost.reset();
                editingPostId = null;
                showSection('posts');
            }
        });

        // Initialize Application
        initializeSampleData();
        updateNavigation();
        renderPosts();
    </script>
</body>
</html>